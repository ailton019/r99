<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>R99 - Base Operacional N1</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="./img/otimizacao.png" type="">
</head>
<body>

    <div class="header-actions">
        <h1>ERP - Base Operacional N1</h1>
        <button class="btn-jason" onclick="abrirModalNovo()">
            <span class="btn-icon">üìã</span> Novo Passo a Passo (Jason)
        </button>
    </div>

    <!-- Cards de Estat√≠sticas -->
    <div class="stats-grid" id="statsContainer"></div>



    <!-- Resultado da Busca Original -->
    <div id="resultado"></div>

    <!-- Tabela de Procedimentos Jason COM BUSCA -->
    <h2>üìã Procedimentos Dispon√≠veis</h2>
    
    <!-- Barra de busca para a tabela Jason -->
    <div class="search-container jason-search">
        <label for="searchJason">üîç Filtrar procedimentos:</label>
        <input 
            type="text" 
            id="searchJason" 
            placeholder="Digite para filtrar a tabela..." 
            onkeyup="buscarNaTabelaJason()"
        >
    </div>

    <div class="jason-table-container">
        <table class="jason-table" id="tabelaProcedimentos">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Procedimento</th>
                    <th>M√≥dulo</th>
                    <th>N√≠vel</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody id="tabelaBody">
                <!-- Preenchido via JavaScript -->
            </tbody>
        </table>
    </div>

    <!-- Modal do Jason -->
    <div id="modalJason" class="modal-jason">
        <!-- ... conte√∫do do modal (igual ao anterior) ... -->
        <div class="modal-content-jason">
            <div class="modal-header-jason">
                <h2 id="modalTitulo">üìã Novo Passo a Passo</h2>
            </div>
            <div class="modal-body-jason">
                <form id="procedimentoForm">
                    <input type="hidden" id="procedimentoId" value="">
                    
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label>Nome do Procedimento *</label>
                            <input type="text" class="form-control" id="nome" required placeholder="Ex: Nota Fiscal - Emiss√£o">
                        </div>

                        <div class="form-group">
                            <label>M√≥dulo *</label>
                            <select class="form-control" id="modulo" required>
                                <option value="">Selecione...</option>
                                <option value="Faturamento">Faturamento</option>
                                <option value="Estoque">Estoque</option>
                                <option value="Financeiro">Financeiro</option>
                                <option value="Relat√≥rios">Relat√≥rios</option>
                                <option value="Configura√ß√µes">Configura√ß√µes</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Categoria *</label>
                            <input type="text" class="form-control" id="categoria" required placeholder="Ex: Fiscal">
                        </div>

                        <div class="form-group">
                            <label>N√≠vel *</label>
                            <select class="form-control" id="nivel" required>
                                <option value="Media">M√©dia</option>
                                <option value="Alta">Alta</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>ID (auto)</label>
                            <input type="text" class="form-control" id="idDisplay" readonly placeholder="Auto gerado">
                        </div>

                        <div class="form-group full-width">
                            <label>Palavras-Chave *</label>
                            <input type="text" class="form-control" id="palavrasChave" required placeholder="Ex: nota, nf, emissao (separadas por v√≠rgula)">
                            <small class="helper-text">Separe por v√≠rgula</small>
                        </div>

                        <div class="form-group full-width">
                            <label>Caminho no ERP *</label>
                            <input type="text" class="form-control" id="caminho" required placeholder="Ex: ERP > Faturamento > Nota Fiscal">
                        </div>

                        <div class="form-group full-width">
                            <label>Permiss√µes *</label>
                            <textarea class="form-control" id="permissoes" required placeholder="Uma permiss√£o por linha" rows="3"></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label>Checklist *</label>
                            <textarea class="form-control" id="checklist" required placeholder="Um item por linha" rows="3"></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label>Quando escalar? *</label>
                            <textarea class="form-control" id="escalar" required placeholder="Crit√©rios para escalar" rows="2"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer-jason">
                <button class="btn-jason btn-secondary" onclick="fecharModal()">Cancelar</button>
                <button class="btn-jason btn-success" onclick="salvarProcedimento()">üíæ Salvar Procedimento</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./js/jason-manager.js.js"></script>
    <script src="./js/script.js"></script>
</body>
</html>